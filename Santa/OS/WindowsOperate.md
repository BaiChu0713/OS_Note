# cmd命令合集

## dos shell

1. 什么是命令行?

命令行就是在Windows操作系统中打开DOS窗口，以字符串的形式执行Windows管理程序。

2. 什么是DOS?

DOS(Disk Operation System磁盘操作系统)，DOS系统目前已经没有什么人使用了，但是dos命令却依然存在于我们使用的windows系统之中。大部分的DOS命令都已经在Windows里变成了可视化的界面，但有一些高级的DOS命令还是要在DOS环境下来执行。

3. 内部命令与外部命令

内部命令：内部命令`已集成在系统中`，`无需另外命令`可执行文件支持，如DIR、TIME、CLS、CD、RD等命令都属内部命令。使用 help 命令进行查看。

外部命令（后期添加的一个程序）：外部命令实际上是一个`DOS应用程序`，通过执行存储于外部（盘）的程序完成其功能，能够使用户的操作更加方便和深入。这些外部命令都是以文件的形式存在，`Windows系统的DOS外部命令`保存在Windows主目录下的 `"Command"`目录中。通俗来讲就是安装的`软件`。

4. 什么是shell

shell是一个`环境`，我们可以运行我们的命令，程序和shell脚本。

shell有不同的风格，就像有不同风格的操作系统。每个的shell的风格，有它自己的—套识别的命令和功能。Shell是一个环境，我们可以运行我们的命令，程序和shell脚本。壳有不同的风格，就像有不同风格的操作系统.每个的Sheli的风格，有它自己的-套识别的命令和功能。

`Windows当中不区分大小写；linux当中区分大小写。`

5. Windows的构架

第一层：基础硬件（内核圈）

第二层：操作系统

第三层：shell环境（执行环境--操作系统的最外一层--作用是：通过shell环境与操作系统进行交互）

第四层：应用程序（进程）

第五层：用户


## 常用命令格式

`命令 [参数]`

## 文件目录操作

### cd
1. `cd /d`  切换到任意位置
2. `cd/? `帮助文件
3. `cd dir `当前目录所有文件
4. `cd ..`上一级文件
5. `cd /`返回到根目录

### dir


1. `dir`列出当前目录中的所有文件和子目录。
2. `mkdir x `创建新目录
3. `rmdir x `删除（空目录）
4. `rmdir /s x`

### copy/move
将一个或多个文件从一个目录移动到另一个目录。

`move [/y | /-y] [] []`
　　　　 /y:　　　　 不提示确认是否要覆盖现有目标文件。
　　　　 /-y:　　　　确认是否要覆盖现有目标文件。(默认值)
　　　　 []指定要移动的文件的路径和名称。 如果要移动或重命名目录，Source应该是当前目录路径和名称。
　　　　[]指定要将文件移动到的路径和名称。 如果要移动或重命名目录，Target应该是所需的目录路径和名称。

move 既可以移动文件，也可以重命名文件。

`Copy`

将一份或多份文件复制到另一个位置。

 COPY命令只能复制文件，不能复制文件夹。

`copy [参数] [源路径] [目标路径]`

可不指定参数；不写目标路径则为当前路径。

### del ren
`del a`

`ren old_name new_name `

### type

命令用来查看指定目录下文件的内容,如果一个文件内容比较少，那用type来查看非常方便，如果内容很大，用type阅读就不是方便了。

`type [drive:] [path] filename`


## 系统信息获取命令

`systeminfo` 查看系统消息
`whoami`
`hostname`

### task
1. ` tasklist` 查看进程列表
2. `taskkill /IM [进程名] /F `结束进程


## 网络配置命令

`ipconfig `查看计算机的 IP 地址、子网掩码和默认网关

`ipconfig /release;ipconfig /renew` 释放和更新 DHCP 分配的 IP 地址

`netstat   [选项] `显示当前所有的网络连接和监听端口

`tracert [IP 地址或域名] `追踪到另一端的路由

### ping

`ping   [选项]  [主机名称或IP地址]`

验证与远程计算机的连接，检查网络是否能够连通和分析网络速度，默认响应4下结束

## 磁盘和文件系统操作命令

`wmic logicaldisk get size,freespace,caption`  显示每个逻辑磁盘的总大小和可用空间

`format` [驱动器:] /FS:[文件系统]  将 D 盘格式化为 NTFS 文件系统

`chkdsk `[驱动器:]  检查 C 盘的错误

`diskpart` 进入 DiskPart 工具后，输入 list disk 查看所有磁盘信息

## 批处理文件

批处理文件是一个包含多个 CMD 命令的文本文件，可以方便地执行一系列命令

```
@echo off
echo Hello, World!
pause
```

## 环境变量

`set`  查看环境变量

`set [变量名]=[值] ` 设置环境变量

`set [变量名]=`  删除环境变量

## CMD 技巧

### 使用管道

管道符 | 可以将一个命令的输出作为另一个命令的输入(经典注入式攻击)

`tasklist | find "chrome"`


### 重定向

重定向符 `>` 可以将命令的输出保存到文件

`dir > output.txt`

### 批量重命名文件

for 循环批量重命名文件。

`for %f in (*.txt) do ren "%f" "*.bak"`

### CMD 无法识别命令

可能是因为命令未正确输入或未安装相应的程序

### 权限不足

某些命令需要管理员权限，右键点击 CMD 图标，选择“以管理员身份运行”。

## 符号

`eq`: equal (相等)

`ne`: no equal (不相等)

`gt`: greater than (大于)

`lt`: less than (小于)

`ge`: greater equal (大于等于)

`le`: less equal (小于等于)
