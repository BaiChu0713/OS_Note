# SSH 服务

Secure Shell

安全通道协议 ，主要用来实现字符界面的远程登录、远程复制的功能。SSH协议对通道双方的数据传输进行了加密处理，其中包括用户登录时输入的用户口令，SSH为建立在应用层和传输层基础上的安全协议。

对通信数据进行了加密处理，用于远程管理

SSH 的优点：

SSH客户端<---------------->SSH服务端

数据传输的是加密的，可以防止信息泄露

数据传输是压缩的，可以提高传输速度。

SSH客户端： putty、xshell、CRT、MobaXterm、Finalshell

SSH服务器： Openssh


## OpenSSH配置文件

服务名称：sshd

服务端主程序：/usr/sbin/sshd

服务端配置文件：/etc/ssh/sshd_config

openSSH是实现SSH协议的开源软件项目，适用于各种UNIX、Linux操作系统。

centos 7 系统默认已安装openssh相关软件包，并将ssh服务添加为开机自启动。

执行“systemctl start sshd”命令即可启动sshd服务。默认端口使用的22端口。

ssh_confiog 和 sshd_config 都是ssh服务器的配置文件

二者区别在于前者是针对客户端的配置文件，后者是针对服务端的配置文件。

ssh服务端主要包括两个服务功能，ssh远程连接和sftp服务

作用：SSHD服务使用SSH协议可以用来进行远程控制，或在计算机之间传输文件。相比较之前用Telnet方式来传输文件要安全很多，因为Telnet是是明文传输，SSH是加密传输

### 补充——Telnet

#### Telnet 简介

Telnet（Telecommunication Network）是早期互联网中最常用的远程控制协议之一，允许用户通过命令行接口连接到远程计算机系统。它通过 TCP 端口 23 进行通信，在许多情况下，Telnet 用于调试网络设备或远程连接到服务器进行管理。

尽管 Telnet 传输的内容是明文的，因此在安全性方面较为薄弱，但在一些局域网（LAN）或不涉及敏感信息的环境中，Telnet 仍然被广泛应用。

## ssh远程登录方式

ssh登录的方式有两种。

第一次登录服务器时，系统没有保存远程主机的信息，为了确认主机身份会提示用户是否继续连接，输入yes后登录，这时系统将远程服务器信息写入用户主目录下的：$HOME/.ssh/known_hosts 文件中，下次再进行登录时，因为保存有该主机信息就不会再提示了。

1、方法一
`格式： ssh [ 远程主机用户名] @ [远程服务器主机名或IP地址] -p port`
当Linux主机上远程连接另一台Linux主机时，如当前所登录的用户是root的话，当连接另一台主机时也是用root用户登录时，可以直接使用ssh IP 登录。端口默认即可，如果不是默认的情况下，需要使用-p 指定端口。

## sshd服务支持的两种登录验证方式

1、密码验证

对服务器中本地系统用户的登录名称、密码进行验证。这种方式使用最为简便，但从客户端角度来看，正在连接的服务器有可能被假冒；从服务器角度来看，当遭遇密码穷举（暴力破解）攻击时，防护能力比较弱。

18位密码复杂性（大写、小写、字符、数字），修改端口为高位端口，可以提高安全性。

2、秘钥对验证

要求提供相匹配的秘钥信息才能通过验证。通常先在客户端中创建一对秘钥文件（公钥、私钥），然后将公钥文件放到服务器中指定位置，远程登录时，系统将使用公钥、私钥进行加密/解密关联验证，

大大增强了远侧还能够管理的安全性。该方式不易被假冒，且可以免交互登录，在shell中被广泛使用
