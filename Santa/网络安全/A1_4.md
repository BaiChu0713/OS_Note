## Python Django

### Django 定义

Django是一个web应用框架，由python写成

框架模式是MTV（model，view，temple）——（模型，视图，模板）

### Django项目架构


```
./
├── manage.py
└── mysite
    ├── __init__.py
    ├── settings.py
    ├── urls.py
    └── wsgi.py

1 directory, 5 files
```

|文件|作用|
|--|--|
|manage.py|Django用于 管理本项目的命令行工具|
|__init__.py|普通的包初始模块|
|settings.py|Django项目的配置文件，包括本项目引用的组件、项目名、数据库配置、时间、语言、静态文件访问地址、存储路径|
|wsgi.py|(Web Server gateway interface)接口信息用于服务器部署|

### 通常步骤：

1. 创建一个框架
`python manage.py runserver 0.0.0.0:8000`

2. 下一步，创建app

`django-admin startapp firstapp`

所以当前项目框架如下
```
./
├── db.sqlite3
├── firstapp
│   ├── __init__.py
│   ├── admin.py
│   ├── apps.py
│   ├── migrations
│   │   └── __init__.py
│   ├── models.py
│   ├── tests.py
│   └── views.py
├── manage.py
└── mysite
    ├── __init__.py
    ├── __pycache__
    │   ├── __init__.cpython-37.pyc
    │   ├── settings.cpython-37.pyc
    │   ├── urls.cpython-37.pyc
    │   └── wsgi.cpython-37.pyc
    ├── settings.py
    ├── urls.py
    └── wsgi.py
```

3. 修改配置文件
  1. 修改`INSTALLED_APPS `——索引到新增的应用
  2. 修改`TEMPLATES`——索引到后面即将加入本项目的前端文件(`"DIRS": [os.path.join((BASE_DIR,"templates"))],`)
  3. 修改`ALLOWED_HOSTS = ["*"]`能在外界被引用

4. 添加执行层代码、添加url映射关系

  1. 执行层代码
    1. firstapp的执行代码文件(views.py)——作用是渲染并返回主界面
    `return render(request,"index.html")`
    2. 修改url.py地址，将访问地址链接到执行代码
      `urlpatterns`中`path("helloworld", views.firsthtml),`
    3. 创建templates文件甲，存放index.html的内容`mkdir templates`
    4. 在templates文件夹中创建index.html文档
    5. 在python中运行，查看效果
    6. init数据库，创建超管账号
    `python manage.py makemigration`

    `python manage.py migrate`

    在8000/admin中用超管进行登录
